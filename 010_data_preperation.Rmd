---
title: "MyWalks data preperation."
author: "by Craig W. Slinkman"
date: "11/22/2019"
output: html_document
---

### My Walks Analysis 

## Data preperation  

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

### Load libraries 
I use a source file to load packages that I use frequently.  The source file is
located in my Rsource library.


```{r load packages}
#
source( 'functions/load_libraries_v003.R' )      # Load R packages ...
#
```

```{r load_functions}
#
source('~/R-Projects/Rsource/compute_dates_v004.R')    # Computes useful dates ...
source( 'functions/get_days_v006.R' )                  # Load function to read ...
                                                       # walks and compute derived
                                                       # variables ...
#
```

```{r compute_dates}
#
dates <- compute_dates()                               # Compute dates lilely to be                                                           # frquently used ...
#
```
              
### Analysis period 
 
```{r display_analysis_period}
#
Day  <-        c( "First",                       # Build tibble to show analysis
                  "Last " )                      # period ...
Date <- c( dates$date_180_days_ago,      
           dates$date_000_days_ago  )
#
tibble( Day,                               # Pass table to flextable for
        Date ) %>%                        # display ...
    flextable() %>% 
    set_header_labels( "days" = "Days",
                       "values" = "Dates" ) %>% 
    fontsize( size = 16,
              part = "all" )  %>% 
    width( j = 2, 2.5 ) %>% 
    autofit()
#
```
 
## Read data 

```{r read_data}
#
all_days <- get_days()                         # Get all days ...
#
```

### Number of days in file.

There are `r dim( days )[1]` days recorded in the $walks.csv$ file. 

### Getting all walks less than 180 days old

```{r keep_onl_last_180_days}
#
days_180 <- 
    all_days %>% 
        filter( date > dates$date_180_days_ago + 1 )
#
```



There are `r dim( days )[1]` days in the in the data.  After 180 days this number should be 180 or 179 if a walk has not been taken on the last day.



```{r save_walks}
#
save( file = "data/days_180.rds", days_180 )          
#
```




