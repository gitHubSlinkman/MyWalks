---
title: "005_missing_value_inputation"
author: "by Craig W. Slinkman"
date: "11/20/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r load_packages}
#
source( "functions/load_libraries_v003.R" )         
#
```

```{r load_functions}
#
source( "functions/compute_dates_v003.R")        # Compute useful dates ...
source( "functions/get_walks_v004.R")            # To read walks.csv file ...
#
```




```{r compute_dates}
#
dates <- compute_dates()
#
```

## Missing value imputation of $ksteps$  based on data 
## from the period  `r dates$date_180_days_ago` through `r dates$date_000_days_ago`

### Missing value imputation of ksteps

I accidently did a pocket update on my phome and it turned off recording the number of steps.  This is my analysis impute the number of missing cases and to impute their value for the $kseps$ variable.


```{r get_data}
#
file_path <- file.path( "data", "walks.csv")     # Create path to walks.csv ...
all_walks <- get_walks( file_path )              # Read the file ...
#
```

```{r filter_walks}
#
###############################################################################
# In thiis chunk we remove all data that is more than 180 daus old and days 
# that walks did not occur on.
###############################################################################

walks_180 <-
    all_walks %>% 
        filter( date > dates$date_180_days_ago ) %>% 
        filter( walked == 1 )
#
```

### Determine the days that having a missing $ksteps$ value

```{r find_missing_values}
#
walks_missing_ksteps <- 
    walks_180 %>% 
        filter( is.na(ksteps)) %>% 
    select( id, date, miles )
#
```

### Walks with missing $ksteps$

```{r list_missing walks}
#
walks_missing_ksteps %>% 
    flextable() %>% 
        colformat_num( col_keys = "id", 
                       big.mark = "", 
                       digits = 0, 
                       na_str = "" ) %>% 
       colformat_num( col_keys = "miles",
                      big.mark = ",", 
                      digits = 2, 
                      na_str = "" )
#
```

### Create data set with no missing value for $ksteps$ and "
